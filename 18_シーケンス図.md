```plantuml
@startuml
!pragma teoz true
skinparam ParticipantPadding 20
skinparam BoxPadding 10

title
    sequence template
end title

box "Internal Service" #LightBlue
participant User
end box

box "Internal Service" #LightGreen
participant A
participant B
participant C
participant D
end box

box "Internal Service" #LightBlue
participant E
participant F
participant G
end box

participant H

User -> A: DoWork
activate A

A -> B: << createRequest >>
activate B
deactivate A

note over A, B
This is yet another example of a long note.
end note

B -> C: DoWork
activate C

rnote over C
This is yet another
example of
a long note.
end rnote

{start} C -> D: test
activate D #FFBBBB
D --> D: RequestCreated
activate D #DarkSalmon

D -> E: << createRequest >>
activate E

& F -> E: Authentication Request
alt successful case
    F -> E: Authentication Accepted
else some kind of failure
    F -> E: Authentication Failure
    group My own label
    E -> G : Log attack start
        loop 1000 times
            E -> F: DNS Attack
        end
    E -> G : Log attack end
    end
else Another type of failure
   F -> E: Please repeat
end

E --> D: RequestCreated

deactivate E
deactivate D

{end} D -> C: Done
deactivate D
{start} <-> {end} : some time

C --> B: WorkDone
destroy C

B --> A: RequestCreated
deactivate B

A -> User: Done
deactivate A

@enduml
```

![image](https://github.com/user-attachments/assets/98edfa7b-8eae-4604-a2c3-652ef9e95737)
