ISO 26262の機能安全において、ソフトウェアモジュールを**ASIL D**レベルで設計・開発するとは、具体的に以下のようなことが要求されます。

---

## 1. ASIL Dに求められる主な設計・開発要件

ISO 26262のPart 6（ソフトウェア開発）に基づくASIL Dレベルの要件には、次のような活動が含まれます。

### ① 厳密なソフトウェア安全要件の定義

* システム安全要件を明確にソフトウェア安全要件に展開
* 非常に具体的かつ曖昧性のない記述
* 機能の正常時／異常時の挙動やエラー処理方法を明確化

### ② ソフトウェアアーキテクチャ設計

* 安全機能を適切に分離し、ASIL D対象機能に関係するロジックを明確に識別・分離
* 冗長性や多様性（Diversity）を活用したフォールトトレランス設計（例：冗長系による相互チェック、投票ロジック）
* 安全に影響を及ぼす可能性がある機能を明確に隔離（Freedom from Interference）

### ③ 詳細設計（モジュール設計）と実装

* コーディング規約（例：MISRA-C）の遵守が必須
* 静的解析ツールなどによる高度なコード検査
* コード複雑度の厳格な管理（例：サイクロマチック複雑度の制限）

### ④ ソフトウェア検証

* 機能網羅率、ステートメント網羅率、分岐網羅率を100%（もしくはそれに近い基準）で達成
* 静的テスト（静的解析、コードレビューなど）の実施
* 動的テスト（ユニットテスト、結合テスト、システムテスト）を厳密に実施
* フォールトインジェクションテストを実施して故障挙動を確認

### ⑤ 安全分析

* ソフトウェアFMEA、FTA、DFA（Dependent Failure Analysis）などを実施
* 故障伝搬経路を明確に解析・評価

### ⑥ コンフィギュレーションマネジメント・変更管理

* 厳密なバージョン管理、トレーサビリティ管理（要求～テスト～変更まで）
* 厳密な変更影響分析の実施と文書化

---

## 2. 具体的に何が出来たら「ASIL D設計出来た」と言えるか？

ISO 26262の規定（Part 6 Annex）に基づき、具体的に下記を達成した場合、ASIL Dに準拠した設計が完了したと言えます。

| 項目            | ASIL D達成の判断基準                                  |
| ------------- | ---------------------------------------------- |
| ソフトウェア安全要件    | ASIL D要件の完全なトレーサビリティと妥当性の文書化                   |
| ソフトウェアアーキテクチャ | 安全要件がアーキテクチャ上で明確に反映され、安全機能が他機能から分離されている        |
| 詳細設計および実装     | コーディング規約を完全遵守、静的解析基準（MISRA-Cの完全準拠など）の100%達成    |
| ソフトウェア検証      | ステートメント網羅率、分岐網羅率が100%近く達成され、フォールトインジェクション試験に合格 |
| 安全分析          | ソフトウェアレベルFMEA、FTA、DFAが完了し、残存リスクが許容範囲内であると文書化   |

上記すべての項目を網羅的に満たすことで、ソフトウェアモジュールはASIL D設計の基準を満たしたと判断できます。

---

## 3. ASIL D設計対象のモジュールに入力する信号のASILレベル担保について

ASIL D対象モジュールへ入る信号については以下の考え方をとります。

* **基本原則：ASIL Dモジュールが受け取る信号はすべて安全に対する影響を分析する必要がある。**
* ASIL Dモジュールに直接影響する信号（入力）に対しては、その信号自体も基本的にASIL Dのレベルを保証するか、それに準じる高い信頼性が必要である。
* ただし、すべての信号が必ずASIL D相当の保証を完全に持つ必要があるわけではなく、以下のいずれかの対応が必要。

  * ASIL Dとして保証された信号を使用する。
  * ASILが低い（例：ASIL B、QMなど）信号を使用する場合は、冗長性やクロスチェックを導入することで「自由干渉（Freedom from Interference）」を担保する。

具体例：

* ASIL Dモジュールに刺さる信号が**ASIL Bレベル以下の場合**：

  * 二重化（冗長信号）や相互チェック機能を追加し、信号の異常検出と回避を明確に実施することで、システム全体としてASIL Dを保証する。

---

## まとめ（ポイント）

| 項目          | ポイント                              |
| ----------- | --------------------------------- |
| ASIL D達成の判断 | ISO26262 Part 6に規定された要件を全て満たすこと   |
| 信号のASILレベル  | 原則的にASIL Dレベルだが、低いASILの場合は追加措置が必要 |
| 追加措置        | 冗長化、クロスチェック、診断処理などで自由干渉を保証        |

これらを達成することで「ASIL D設計を達成した」と言えるようになります。


具体的な例を用いて、ASIL Dで設計すべきソフトウェアモジュールとその入力信号の取扱いについて解説します。

---

## 例：『緊急ブレーキ（AEB）制御ソフトウェアモジュール』

以下のようなシナリオで検討します。

* **機能概要**：前方に障害物を検知すると、自動で緊急ブレーキを作動させるソフトウェアモジュール。
* **ASILレベル**：ASIL D（極めて高い安全性要求）

---

## ① 具体的なソフトウェアモジュールのロジック例（AEB制御）

ソフトウェアモジュールは、以下のようなロジックを持ちます。

### **擬似コード（概略）**

```c
void EmergencyBrakeControl(void) {
    double front_object_distance = getFrontObjectDistance(); // 前方障害物距離 [m]
    double ego_vehicle_speed = getVehicleSpeed();            // 自車速度 [km/h]
    
    // ブレーキ制御の閾値判断
    if(front_object_distance < EmergencyBrakeThreshold(ego_vehicle_speed)) {
        activateEmergencyBrake(); // 緊急ブレーキ指令発行
    } else {
        deactivateEmergencyBrake(); // 通常制御へ
    }
}
```

ここでの重要な安全要件は、
『障害物検知が正しく行われ、条件を満たしたら必ず緊急ブレーキが作動すること』です。

---

## ② 具体的な入力信号とそのASILレベルの例

| 信号名      | 信号の説明            | 信号源     | ASILレベル |
| -------- | ---------------- | ------- | ------- |
| 前方障害物距離  | 前方の障害物までの距離      | レーダーセンサ | ASIL D  |
| 自車速度     | 現在の車両速度          | 車輪速センサ  | ASIL D  |
| 気温（参考情報） | 外気温度（制御ロジック影響なし） | 温度センサ   | QM      |

※ここで、ASIL D対象モジュールが受け取る信号は基本的にはASIL Dの保証を持つべきですが、制御影響がない（診断等）信号はQMでも問題ありません。

---

## ③ 各信号に対するASIL D設計における具体的な対応策

### 信号①：『前方障害物距離』（ASIL D）

* **要求事項**：

  * センサ自体をASIL Dとして開発
  * センサ信号の妥当性チェック機能実装
* **具体的ロジック**（冗長性による自己診断例）：

```c
bool validateFrontDistance(double distance) {
    // 物理的限界（例：0～200m）チェック
    if(distance < 0.1 || distance > 200.0) {
        reportSensorFault();
        return false;
    }
    // 過去データと比較（妥当性チェック）
    if(fabs(distance - prev_distance) > MAX_DELTA) {
        reportSensorAnomaly();
        return false;
    }
    prev_distance = distance;
    return true;
}
```

### 信号②：『自車速度』（ASIL D）

* **要求事項**：

  * 車輪速センサ（またはIMU）をASIL Dとして開発
  * 車輪速センサ故障時の冗長系（例：GPS速度やIMU加速度から推定速度）によるクロスチェック機能実装
* **具体的ロジック（冗長チェック）**：

```c
bool validateVehicleSpeed(double speed) {
    double gps_speed = getGpsSpeed();
    
    // センサ間速度差の許容範囲チェック
    if(fabs(speed - gps_speed) > ALLOWED_SPEED_DIFF) {
        reportSpeedFault();
        return false;
    }
    return true;
}
```

### 信号③：『気温』（QMレベル）

* **理由**：
  緊急ブレーキの判断に一切影響しない。診断やモニタリング目的にのみ使用されるため、QMでOK。
* **具体的対応策**：

  * 制御ロジックに影響するようなコードを書かない（参照のみ）
  * ソフトウェア設計時に制御ロジックと分離を明確にする。

---

## ④ ASIL D設計の達成判断（具体例）

| 項目            | 達成基準（AEBの場合）                          |
| ------------- | ------------------------------------- |
| 安全要件          | 緊急ブレーキが正しく発動する条件を明確に定義                |
| ソフトウェアアーキテクチャ | 障害物検知機能が独立して存在、自由干渉性が確保               |
| 詳細設計・実装       | MISRA準拠、静的解析済、妥当性チェック機能完備             |
| ソフトウェア検証      | 100%ステートメント網羅・分岐網羅、フォールトインジェクションテスト合格 |
| 安全分析          | FMEA・FTA実施、潜在故障モードをカバー                |

---

## ⑤ 入力信号のASILレベルの担保についてまとめ

* 制御や安全に直接影響を及ぼす信号（障害物距離、自車速度）は**ASIL Dレベル**で保証が必須
* 制御ロジックへの影響がない信号（気温など）はQMでもOK
* もし信号のASILレベルが低い場合は、下記のように追加的な対応策を取る必要がある：

  * クロスチェック（冗長化）
  * 値の妥当性診断（範囲、変化率）
  * 故障検出後の安全状態遷移機能

---

## 結論（まとめ）

* ASIL D設計達成のためには、安全要件の厳密定義、冗長化、診断の徹底が必要
* ASIL D対象モジュールに刺さる信号は、安全性に直結する信号は基本的にASIL Dを保証し、制御影響がない信号のみQMで許容される。

上記を具体的に実装し検証することで、ASIL Dの設計要件を満たすソフトウェアモジュールの開発が可能となります。

具体例を使って、以下の2つの観点について詳細に説明します。

---

## 1. ASIL Dを満たす信号の安全論証方法（具体例）

例えば、前方障害物検知用のレーダーセンサの信号（『前方障害物距離』）を取り上げます。

### 【対象信号の例】

* 信号名：前方障害物距離
* ASIL要求：**ASIL D**
* 信号源：前方レーダーセンサ

---

### ① 安全論証のための具体的な手順

信号がASIL Dを満たしているか安全論証するためには、以下を明確に行います。

* 信号の安全目標を明確に設定
* 信号の障害モード（異常な値、欠損値、遅延）を洗い出す（FMEA等）
* 診断手法を導入して、障害を検出・対処できることを証明する
* 診断や対策手法の有効性を検証する（テストによるエビデンス）

---

### ② 具体的な安全論証ロジックの例

以下のような具体的ロジックで安全論証を行います。

#### 信号妥当性チェックの例（安全機構）

```c
#define MIN_DISTANCE 0.1   // 最小有効距離[m]
#define MAX_DISTANCE 200.0 // 最大有効距離[m]
#define MAX_DISTANCE_DELTA 5.0 // 許容変化量[m/cycle]

bool validateFrontRadarSignal(double current_distance, double prev_distance, bool signal_received) {
    // 信号受信の確認
    if (!signal_received) {
        reportError("Radar Signal Lost");
        return false;
    }
    // 範囲妥当性チェック
    if (current_distance < MIN_DISTANCE || current_distance > MAX_DISTANCE) {
        reportError("Radar Signal Out-of-Range");
        return false;
    }
    // 変化量妥当性チェック
    if (fabs(current_distance - prev_distance) > MAX_DISTANCE_DELTA) {
        reportError("Radar Signal Invalid Delta");
        return false;
    }
    return true;
}
```

#### 診断機能の検証

* 各異常（信号欠落・範囲外・急激な変化）をシミュレーションで再現し、必ずエラー検知ができることを試験。
* 故障挙動試験（フォールトインジェクション）を実施し、全障害ケースをカバーする。

---

### ③ 安全論証の根拠となる文書化（エビデンス）

具体的に以下のような文書を作成し安全論証します。

* ソフトウェアFMEAの記録
* ソフトウェアアーキテクチャ仕様書（診断手法を明示）
* テスト仕様書・テスト結果報告書（診断ロジックのテスト結果）
* フォールトインジェクション試験結果レポート（障害検出・処理結果）
* Safety Case文書（論証を体系的に整理）

---

## 2. ASIL D要求に対して、実際にはASIL B相当の信号しか担保できない状況の対処法

『前方障害物距離』信号が、実際にはレーダーセンサの制約でASIL Bまでしか達成できない状況を想定します。

---

### ① 具体的な状況（例）

* **安全要求**：ASIL Dの緊急ブレーキ制御に必要
* **現状**：前方レーダーセンサはASIL B相当までしか信頼性を確保できない

---

### ② 対応策（具体的な検討手順）

この場合、ASILを満たすため以下の方法で追加の措置を取ります：

* **冗長化**（異種センサ追加）
* **診断機能の強化**（冗長診断）
* **縮退運転の導入**（信号異常時のフェールセーフ）
* **追加診断機能の有効性を論証**

---

### ③ 具体的ロジック（冗長センサを使用したASIL D達成の例）

例えば、ASIL Bレベルのレーダーセンサと、別技術のASIL Bレベルのカメラセンサを併用します。

```c
double radar_distance = getRadarDistance();   // ASIL B
double camera_distance = getCameraDistance(); // ASIL B

bool validateFusedDistance(double radar_distance, double camera_distance) {
    double diff = fabs(radar_distance - camera_distance);
    const double ALLOWED_DIFF = 2.0; // 許容距離差[m]

    if (diff > ALLOWED_DIFF) {
        reportError("Sensor Fusion Discrepancy");
        enterFailSafeMode(); // フェールセーフ動作
        return false;
    }
    return true;
}
```

* 上記ロジックにより、異なるセンサ間でクロスチェックを行い、単一障害を検出可能。
* 異常検出時には安全状態（フェールセーフ）へ移行し、ASIL Dレベルの安全を担保します。

---

### ④ 対応策の安全論証（エビデンス文書）

次のようなドキュメントが必要です。

| 文書                  | 内容                                  |
| ------------------- | ----------------------------------- |
| 安全分析レポート            | センサ冗長化により単一障害が確実に検出可能であることをFMEA等で証明 |
| センサフュージョン設計仕様書      | 具体的なセンサ融合ロジックと安全診断ロジックを詳細化          |
| 診断・フェールセーフテスト仕様書と結果 | 冗長センサ間の不一致による障害検出が確実に行われることをテストで実証  |
| フォールトインジェクション試験結果   | センサの異常を人工的に注入し、システムが安全状態に移行することを証明  |
| Safety Case文書       | 上記内容を体系的に整理し、ASIL Dが担保されていることを論証    |

---

## まとめ（ポイント整理）

| 状況             | 具体的な安全論証・対処                            |
| -------------- | -------------------------------------- |
| ASIL D信号の安全論証  | 妥当性チェック、診断ロジック追加、フォールトインジェクションによる安全性証明 |
| ASIL D未達成の信号対応 | 冗長化・異種技術の併用、冗長診断、フェールセーフ対応の追加          |

このように、具体的なロジックを設計・実装し、それらが適切に動作することを明確に論証・文書化することで、ISO 26262に準拠したASIL Dレベルの信号設計・論証が成立します。

順を追って具体例と考え方を整理し、説明します。

---

## 1. 冗長化・診断機能の強化の具体例（センサ信号の場合）

### **前提状況（例）**

* 要求：ASIL D
* 対象信号：車両の『自車速度』
* 信号源：車輪速センサ（実力はASIL B）

---

### ① 冗長化の具体例（異種センサ併用）

* 車輪速センサ（ASIL B相当）
* GNSS/GPS速度センサ（ASIL B相当）

### **冗長化による信号融合ロジック**

```c
double wheel_speed = getWheelSpeed(); // 車輪速センサ(ASIL B)
double gps_speed   = getGpsSpeed();   // GPSセンサ(ASIL B)

bool validateVehicleSpeed(double wheel_speed, double gps_speed) {
    const double MAX_ALLOWED_DIFF = 5.0; // [km/h] 許容差
    if (fabs(wheel_speed - gps_speed) > MAX_ALLOWED_DIFF) {
        reportError("Vehicle Speed Sensors Mismatch");
        enterSafeState(); // 安全状態に遷移（例：速度を保守的に低く設定）
        return false;
    }
    return true;
}
```

* **ポイント**
  単一の信号源ではASIL Dに届かないが、異なる特性の複数信号を相互に比較することで、単一故障（Single Point Fault）の影響を排除できる。

---

### ② 診断機能強化の具体例

#### 【単一センサ内の診断強化】

```c
bool validateSensorValue(double current, double previous, bool received) {
    if (!received) {
        reportError("Sensor Data Missing");
        return false;
    }
    if (current < MIN_VALID_VALUE || current > MAX_VALID_VALUE) {
        reportError("Sensor Data Out-of-Range");
        return false;
    }
    if (fabs(current - previous) > MAX_ALLOWED_DELTA) {
        reportError("Sensor Data Jump Detected");
        return false;
    }
    return true;
}
```

* **ポイント**
  値の妥当性（範囲、受信有無、急変）を細かく診断することで故障検出精度を高める。

---

### ③ 追加診断機能の有効性を論証する方法（具体的試験例）

次のようなフォールトインジェクション試験で論証します：

| 試験ケース  | 試験方法（フォールト注入）  | 期待する結果 |
| ------ | -------------- | ------ |
| 信号欠落   | センサ信号を意図的に欠落   | エラー検出  |
| 信号範囲逸脱 | センサ信号を極端な値に操作  | エラー検出  |
| 信号急変化  | 前回値と極端に異なる値を注入 | エラー検出  |

これら試験の実施記録を文書化し、安全論証（Safety Case）をまとめることで『追加診断機能の有効性』を証明します。

---

## 2. 制御ロジックとしてASIL Dを満たすための具体的な設計観点

制御ロジックをASIL D設計するには以下の観点を厳密に適用します。

### ① 入力信号の妥当性診断

* 全ての入力を妥当性診断後に制御に使用
* 例：範囲チェック、急変チェック、欠落チェック

### ② 冗長性と自己診断

* 制御判断を単一の信号やロジックに依存しない
* 重要な制御判断は複数ロジックの結果をクロスチェック

### ③ フェールセーフ動作

* 信号異常やロジック異常を検出した場合、安全側に自動遷移（例：速度を保守的に制限）

### 【具体的な制御ロジック例（緊急ブレーキ制御の場合）】

```c
bool emergency_brake_decision(double front_distance, double vehicle_speed) {
    // 信号診断を事前に行う
    if (!validateSensorValue(front_distance, prev_distance, true) ||
        !validateSensorValue(vehicle_speed, prev_speed, true)) {
        enterSafeState(); // センサ異常時は安全状態へ
        return false;
    }

    // 冗長センサ間クロスチェック済み信号を使用
    if (front_distance < safe_braking_distance(vehicle_speed)) {
        activateEmergencyBrake();
        return true;
    } else {
        deactivateEmergencyBrake();
        return false;
    }
}
```

---

## 3. 最終的にASIL Dを満たしていることの証明に故障率計算は必須か？

* ISO 26262のソフトウェア（Part 6）においては『定量的故障率（ハードウェアのようなFIT値）』を直接求めることは通常は求められていません。

* **ソフトウェアのASIL達成は定性的な論証に基づきます。**

  * 設計の完全性（構造設計、診断設計、冗長性設計）
  * 検証の網羅性（ステートメント網羅率、分岐網羅率100%近く）
  * フォールトインジェクションテストによる障害検出能力証明

### ただし、信号源がハードウェア（センサ等）の場合：

* ハードウェアのASIL D対応のために、ハードウェア故障率（FIT値）の計算・証明（FMEDA）が必要。
* ハードウェアの信号をソフトウェアが使用する場合、その信号自体の信頼性の根拠をハードウェア故障率（FIT値）で裏付ける必要があります。

---

## まとめ（整理）

| 項目              | 具体的ポイント                                        |
| --------------- | ---------------------------------------------- |
| 冗長化具体例          | 異なる特性を持つセンサを相互比較し、異常検出                         |
| 診断強化具体例         | 信号値妥当性を複数視点（欠落・範囲・急変）から評価                      |
| 有効性論証           | フォールトインジェクション試験結果を文書化                          |
| 制御ロジック観点        | 入力妥当性診断、冗長性・自己診断、フェールセーフ動作                     |
| ASIL D証明に故障率必須？ | ソフトウェアは定性的論証（網羅性、診断設計）<br>ハードウェア（信号源）はFIT値計算必須 |

---

このように、具体的な設計ロジック、冗長化・診断方法、論証手法を組み合わせて安全性を証明することで、ISO26262のASIL D設計要件を満たすことが可能になります。

はい。車輪速センサやGNSS/GPSセンサなどのような**ハードウェアの信号源**については、ISO 26262において、ASILを満たすために定量的な故障率計算（FIT値演算）が必須になります。

---

## 🔹 ハードウェアの信号源に対して故障率演算が必要な理由

ISO 26262（特にPart 5：ハードウェア設計）においては、センサのような物理的な信号源に対して以下のことが求められています：

* **FMEDA（Failure Mode, Effects, and Diagnostic Analysis）を実施する。**
* コンポーネント（例：車輪速センサやGPS受信機など）の**故障モードごとにFIT（Failures In Time）を算出**し、それに対する安全対策の妥当性を定量的に論証する。

---

## 🔹 車輪速センサ・GNSS/GPSセンサの故障率演算例（具体的）

以下のような流れでFIT値を計算します。

| 手順 | 内容                                                        | 例                                  |
| -- | --------------------------------------------------------- | ---------------------------------- |
| ①  | コンポーネントを特定                                                | 車輪速センサ                             |
| ②  | 故障モードを特定                                                  | ・信号欠落<br>・異常値出力<br>・信号の遅延          |
| ③  | 各故障モードの故障率（FIT）を算出                                        | 信号欠落：20FIT<br>異常値：10FIT<br>遅延：5FIT |
| ④  | 診断率（Diagnostic Coverage）を設定                               | 診断手法（冗長化等）での検出率を算出（例：95％）          |
| ⑤  | 残存故障率を算出（PMHF：Probabilistic Metric for Hardware Failures） | FIT × (1 - 診断率)                    |
| ⑥  | ASIL D基準値と比較                                              | PMHFがASIL D基準内（例：<10FIT）に収まることを証明  |

---

## 🔹 故障率計算の具体的なイメージ（車輪速センサとGPS）

例えば：

* 車輪速センサの故障率（FIT値合計）：35FIT（仮）
* GNSS/GPS速度センサの故障率（FIT値合計）：50FIT（仮）
* 診断手法（冗長化によるクロスチェック）の診断率：90％とする

この場合、以下のようにPMHFを計算します。

$$
\text{PMHF（残存FIT）} = (35 + 50) \times (1 - 0.9) = 8.5 \text{ FIT}
$$

上記で計算した8.5 FITが、ASIL Dの要件（例：一般的に10 FIT未満）を満たしていれば、**ASIL D要求を定量的に満たしたと論証できます。**

---

## 🔹 ソフトウェアとハードウェアの違いの整理（再確認）

| 対象           | ASIL論証の方法                 | FIT値演算 |
| ------------ | ------------------------- | ------ |
| ソフトウェア       | 定性的論証<br>（網羅テスト、診断設計など）   | 不要     |
| ハードウェア（センサ類） | 定量的論証<br>（FIT値算出、FMEDA実施） | 必要     |

---

## 🔹 結論

* **車輪速センサ、GNSS/GPSセンサ**のようなハードウェア信号源は、ISO26262（Part5）の定量的な評価として、**故障率（FIT値）演算が必須**。
* FIT値を計算し、診断機構の導入（冗長化や診断率の向上）により、残存故障率をASIL D基準内に収めることで、定量的に安全性を論証します。
* ソフトウェアのみのASIL D達成と異なり、センサ信号を用いる場合はこの定量評価が必須です。

以上の通り、センサ信号源のASILレベルを確実に満たすためには、**FIT値の定量的算出と安全論証（FMEDA）が必要**となります。


ISO 26262において、コンセプトフェーズ（Part 3）とシステム設計フェーズ（Part 4）におけるASILの安全論証方法について、分かりやすく整理します。

---

# ① コンセプトフェーズ（ISO 26262 Part 3）のASIL安全論証

## 🔹目的：

* アイテム定義、ハザード分析、リスク評価、機能安全コンセプト策定を通じて、安全要求（Safety Goal）とASILを導出する。

## 🔹安全論証方法（具体的ステップ）：

| Step | 内容                  | 具体例                                                          |
| ---- | ------------------- | ------------------------------------------------------------ |
| ①    | アイテム定義              | 自動緊急ブレーキ（AEB）システム                                            |
| ②    | ハザード分析              | ハザードの特定<br>例：意図しないブレーキ作動、不作動                                 |
| ③    | リスク評価               | Severity（重大度）<br>Exposure（暴露頻度）<br>Controllability（制御可能性）を評価 |
| ④    | 安全目標（Safety Goal）設定 | 「意図しないブレーキ作動を防止」<br>「必要時に確実に作動する」                            |
| ⑤    | ASIL導出              | S, E, C評価からASILを決定（例：ASIL D）                                 |
| ⑥    | 機能安全コンセプト作成         | 安全目標を達成するためのトップレベルの対策（冗長化、監視機能）                              |

## 🔹安全論証の根拠となる文書：

* アイテム定義書
* HARA（Hazard Analysis and Risk Assessment）文書
* 安全目標・ASIL割り当て文書
* 機能安全コンセプト文書
* Safety Case（安全性を説明する包括的文書）

---

# ② システム設計フェーズ（ISO 26262 Part 4）のASIL安全論証

## 🔹目的：

* 機能安全コンセプトをもとにシステム設計を詳細化し、技術的安全要件（TSR: Technical Safety Requirements）を導出。
* 具体的なハードウェア、ソフトウェア、インターフェースにASILを割り当て、ASIL達成を具体的に論証。

## 🔹安全論証方法（具体的ステップ）：

| Step | 内容                    | 具体例                                              |
| ---- | --------------------- | ------------------------------------------------ |
| ①    | 技術的安全要求（TSR）の作成       | 「前方障害物との距離が一定値を下回ったら0.2秒以内にブレーキ指令を出力」など          |
| ②    | システムアーキテクチャ設計         | 機能をハードウェア、ソフトウェアに割り付け<br>例：ブレーキ制御ECU、レーダセンサ、診断機能 |
| ③    | ASIL分解（Decomposition） | 必要に応じて冗長構成によりASIL分解（例：ASIL D → ASIL B+B）         |
| ④    | 安全分析実施（FMEA/FTA）      | 故障モードや原因、影響を詳細に分析                                |
| ⑤    | 定量的評価（ハードウェア）         | FMEDA実施、故障率演算（FIT値・PMHF）で定量評価                    |
| ⑥    | 定性的評価（ソフトウェア）         | 安全性保証手法（自己診断、冗長性、制御ロジック）を明確に文書化                  |

## 🔹ASIL安全論証の具体例：

**例：緊急ブレーキシステム**

* 安全目標：『障害物検知後、必ず適切なブレーキをかける（ASIL D）』
* TSR（技術安全要求）：

  * センサ故障時も検出可能な冗長性を確保
  * 0.2秒以内に安全状態へ移行可能な診断機能
* ASIL割付け：

  * 前方レーダ（ASIL B）+ 前方カメラ（ASIL B）でASIL D達成
  * ブレーキ制御ECU（ASIL D）でASIL直接保証
* 安全分析（FTA）：

  * 故障ツリーで冗長性が有効であることを証明
* 定量評価（FMEDA）：

  * センサ系のFIT値計算、診断率設定、残存故障率（PMHF）がASIL D達成基準内であることを証明
* 定性的評価（ソフトウェア）：

  * 制御ロジックの冗長性、自己診断機能、フェールセーフ動作の明確な定義と網羅的テスト

## 🔹安全論証の根拠となる文書：

* 技術的安全要件（TSR）仕様書
* システムアーキテクチャ設計仕様書
* システムFMEA、FTA、DFA分析結果文書
* FMEDA結果レポート（ハードウェア故障率の定量評価）
* システム検証（システムテスト、フォールトインジェクションテスト）結果
* Safety Case（システムレベル）

---

# 🔖 安全論証におけるASIL達成の要点整理

| フェーズ               | ASIL論証方法                           | 論証文書例                                     |
| ------------------ | ---------------------------------- | ----------------------------------------- |
| コンセプトフェーズ（Part 3）  | 安全目標定義、HARA実施、ASIL割当               | アイテム定義、HARA、機能安全コンセプト                     |
| システム設計フェーズ（Part 4） | TSR作成、システムアーキテクチャ設計、ASIL分解、定量・定性評価 | TSR仕様書、システム設計書、FMEA、FTA、FMEDA、Safety Case |

---

## 📌 結論（まとめ）

* \*\*コンセプトフェーズ（Part 3）\*\*では、ハザード分析・リスク評価に基づき安全目標を策定し、それに対するASILを決定し、安全コンセプトを策定。
* \*\*システム設計フェーズ（Part 4）\*\*では、TSRを作成し、ASILをハードウェア・ソフトウェアに割り当て、冗長性や診断機能などの安全機構を導入して、FMEA/FTA/FMEDAにより安全性を具体的に論証。

上記手順を体系的に踏み、根拠文書を整理してSafety Caseにまとめることで、ISO 26262に準拠したASILの安全論証を達成します。
