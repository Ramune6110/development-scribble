# æ–¹æ³•â‘ ï¼šGit submoduleï¼ˆæœ€æœ‰åŠ›ï¼‰

## ä½•ãŒã§ãã‚‹ï¼Ÿ

* çµ±åˆãƒ¬ãƒï¼ˆè¦ªï¼‰ã«ã€Œå­ãƒ¬ãƒã¸ã®**å›ºå®šã‚³ãƒŸãƒƒãƒˆå‚ç…§**ã€ãŒ1ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦è¨˜éŒ²ã•ã‚Œã¾ã™ï¼ˆ`.gitmodules` ã¨ **ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚³ãƒŸãƒƒãƒˆãƒã‚¤ãƒ³ã‚¿**ï¼‰ã€‚
* å„å­ãƒ¬ãƒã¯ç‹¬ç«‹ã® Git å±¥æ­´ã‚’ä¿ã¡ã€è¦ªå´ã‹ã‚‰ã€Œã“ã®ã‚¿ã‚°ï¼ˆï¼ç‰¹å®šã‚³ãƒŸãƒƒãƒˆï¼‰ã§å›ºå®šã€ãŒã§ãã¾ã™ã€‚
* æ›´æ–°ã‚‚ã€Œã©ã®å­ã‚’ã©ã®ã‚³ãƒŸãƒƒãƒˆã«ä¸Šã’ãŸã‹ã€ãŒè¦ªå´ã®å·®åˆ†ã§æ˜ç¢ºã€‚

## åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# çµ±åˆãƒ¬ãƒã‚’ä½œæˆï¼ˆã‚ã‚‹ã„ã¯æ—¢å­˜ãƒ¬ãƒã‚’ä½¿ã†ï¼‰
git init super-project
cd super-project
git commit --allow-empty -m "chore: init"

# æ—¢å­˜ãƒ¬ãƒA/B/Cã‚’ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦è¿½åŠ ï¼ˆä¾‹ï¼‰
git submodule add https://github.com/org/repoA external/repoA
git submodule add https://github.com/org/repoB external/repoB
git submodule add https://github.com/org/repoC external/repoC

# è¿½åŠ ã‚’ã‚³ãƒŸãƒƒãƒˆ
git commit -m "chore: add submodules (repoA, repoB, repoC)"
```

## ã€Œç‰¹å®šãƒ–ãƒ©ãƒ³ãƒã®ç‰¹å®šã‚¿ã‚°ï¼ˆã‚³ãƒŸãƒƒãƒˆï¼‰ã€ã«å›ºå®šã™ã‚‹

```bash
# ä¾‹ï¼šrepoA ã‚’ main ãƒ–ãƒ©ãƒ³ãƒä¸Šã® v1.2.3 ã‚¿ã‚°ã«å›ºå®š
cd external/repoA
git fetch --tags origin
git checkout tags/v1.2.3        # â† ã“ã“ã§ â€œãã®ã‚³ãƒŸãƒƒãƒˆâ€ ã« HEAD ã‚’ç½®ã
cd ../..

# è¦ªãƒ¬ãƒã«ã€ŒrepoA ã®ãƒã‚¤ãƒ³ã‚¿ãŒ v1.2.3 ã«å¤‰ã‚ã£ãŸã€å·®åˆ†ãŒå‡ºã‚‹
git add external/repoA
git commit -m "chore(repoA): pin to v1.2.3"
```

> ã“ã®ã€Œè¦ªãƒ¬ãƒã«å‡ºã‚‹å·®åˆ†ã€ãŒã€**ã©ã®å­ã‚’ã©ã®ã‚³ãƒŸãƒƒãƒˆã«å›ºå®šã—ãŸã‹ã®å°å¸³**ã«ãªã‚Šã¾ã™ã€‚

## é–‹ç™ºè€…ãŒã‚¯ãƒ­ãƒ¼ãƒ³ã—ã¦ç’°å¢ƒå†ç¾ã™ã‚‹æ™‚

```bash
git clone https://github.com/you/super-project
cd super-project
git submodule update --init --recursive
# â†’ ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒ .gitmodules ã¨è¦ªã®ãƒã‚¤ãƒ³ã‚¿ã©ãŠã‚Šã®ã‚³ãƒŸãƒƒãƒˆã§é…ç½®ã•ã‚Œã‚‹
```

## å¾Œã‹ã‚‰ã€Œã‚¿ã‚°/ã‚³ãƒŸãƒƒãƒˆã‚’ä¸Šã’ã‚‹ã€æµã‚Œ

```bash
# ä¾‹ï¼šrepoB ã‚’ v2.0.0 ã«æ›´æ–°
cd external/repoB
git fetch --tags origin
git checkout tags/v2.0.0
cd ../..
git add external/repoB
git commit -m "chore(repoB): bump to v2.0.0"
```

[Git Submodule]https://zenn.dev/sakaki_web/articles/785d2da8aaf2fa  
[Git Tag]https://qiita.com/growsic/items/ed67e03fda5ab7ef9d08  
[GitHub Release]https://qiita.com/tommy_aka_jps/items/5b39e4b27364c759aa53  
[GitHub Flow]https://zenn.dev/fumi_mizu/articles/dd3fb628a182f5  
[ã‚³ãƒŸãƒƒãƒˆãƒ«ãƒ¼ãƒ«]https://qiita.com/itosho/items/9565c6ad2ffc24c09364  
[ãƒ–ãƒ©ãƒ³ãƒå‘½åè¦å‰‡]https://qiita.com/Shoya-Miyata/items/9e5fd99f226c6479409d  

## GitHubãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆ

```
# ğŸš€ Release: v3.0
**Date:** 2025.10.25

## æ¦‚è¦
- ç›®çš„: [ä¾‹] å®‰å®šæ€§æ”¹å–„ã¨è»½å¾®ãªAPIå¤‰æ›´
- ä¸»è¦åŠ¹æœ: [ä¾‹] çµŒè·¯è¿½å¾“ã®é€¸è„±ç‡ã‚’ç´„40%ä½æ¸›

## æ§‹æˆ (Composition)
<!-- çµ±åˆã§æ¡ç”¨ã—ãŸå„ãƒªãƒã®ç‰ˆã‚’æ˜ç¤ºã€‚Compareãƒªãƒ³ã‚¯ã§å·®åˆ†å…¨ä½“ã‚’å‚ç…§ -->
| Component | branch | Compare |
|---|---|---|
| repoA | org/repoA | https://github.com/org/repoA/compare/v1.2.2...v1.2.3 |
| repoB | org/repoB | https://github.com/org/repoB/compare/PREV_SHA...def5678 |
| repoC | org/repoC | â€” |

## å¤‰æ›´ã‚µãƒãƒª (Changes by Repo)
<!-- è©³ç´°ã¯PR/Issueã¸ã®ãƒªãƒ³ã‚¯ã§ç°¡æ½”ã« -->
- **repoA v1.2.3**: Fix #123 / PR #456, Feat #124 / PR #457  
- **repoB def5678**: Perfæœ€é©åŒ– / PR #330, ä¾å­˜æ›´æ–° / PR #331  
- **repoC 9e8d7c6**: å®‰å®šã‚³ãƒŸãƒƒãƒˆã¸ä¸€æ™‚å›ºå®šï¼ˆI/Få¤‰æ›´ãªã—ï¼‰

## ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰æ‰‹é † (Upgrade)
1. ã‚¿ã‚°ã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ
2. ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒæœŸ
```bash
git checkout v3.0
git submodule update --init --recursive

```

